#include <stdio.h>

#include <string.h>

#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>

int main( int narg, char **argv)
{

if(narg < 3)
{ 
write(1,"Eroare la introducerea numarului de parametri",strlen("Eroare la introducerea numarului de parametri"));
}


int fd1=open(argv[1],O_RDONLY,0644);
int fd2=open(argv[2],O_WRONLY|O_CREAT,0644);

if(fd1 < 0 || fd2 < 0)
{
perror("Open file");
return errno;
}

char buf[200];
int bread , btoread=200 , bwritten , btowrite,totalbwritten;
while((bread=read(fd1,buf,btoread))>=0)
{
	totalbwritten = 0;
	while((bwritten=write(fd2,buf + totalbwritten , bread))>=0)
	{	
		bread-=bwrite;//cati bytes au ramas de citit
		totalbwritten + = bwritten;
		
}

return 0;

}
